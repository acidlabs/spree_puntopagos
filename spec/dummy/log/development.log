  [1m[36m (2.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SpreeOneTwo (20140319184536)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_activators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "expires_at" datetime, "starts_at" datetime, "name" varchar(255), "event_name" varchar(255), "type" varchar(255), "usage_limit" integer, "match_policy" varchar(255) DEFAULT 'all', "code" varchar(255), "advertise" boolean DEFAULT 'f', "path" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar(255), "lastname" varchar(255), "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "zipcode" varchar(255), "phone" varchar(255), "state_name" varchar(255), "alternative_phone" varchar(255), "company" varchar(255), "state_id" integer, "country_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_addresses_on_firstname" ON "spree_addresses" ("firstname")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_addresses_on_lastname" ON "spree_addresses" ("lastname")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar(255), "adjustable_id" integer, "adjustable_type" varchar(255), "originator_id" integer, "originator_type" varchar(255), "amount" decimal(8,2), "label" varchar(255), "mandatory" boolean, "locked" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_assets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "viewable_id" integer, "viewable_type" varchar(255), "attachment_width" integer, "attachment_height" integer, "attachment_file_size" integer, "position" integer, "attachment_content_type" varchar(255), "attachment_file_name" varchar(255), "type" varchar(75), "attachment_updated_at" datetime, "alt" text) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_assets_on_viewable_id" ON "spree_assets" ("viewable_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_assets_on_viewable_type_and_type" ON "spree_assets" ("viewable_type", "type")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_calculators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "calculable_id" integer, "calculable_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "type" varchar(50), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_configurations_on_name_and_type" ON "spree_configurations" ("name", "type")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "iso_name" varchar(255), "iso" varchar(255), "iso3" varchar(255), "name" varchar(255), "numcode" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_gateways" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "server" varchar(255) DEFAULT 'test', "test_mode" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lock_version" integer DEFAULT 0, "state" varchar(255), "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_inventory_units_on_order_id" ON "spree_inventory_units" ("order_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_inventory_units_on_shipment_id" ON "spree_inventory_units" ("shipment_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_inventory_units_on_variant_id" ON "spree_inventory_units" ("variant_id")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(8,2) NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_line_items_on_order_id" ON "spree_line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_line_items_on_variant_id" ON "spree_line_items" ("variant_id")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_log_entries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar(255), "details" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_mail_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "environment" varchar(255), "active" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_option_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100), "presentation" varchar(100), "position" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_option_types_prototypes" ("prototype_id" integer, "option_type_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_option_values" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "position" integer, "name" varchar(255), "presentation" varchar(255), "option_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_option_values_variants" ("variant_id" integer, "option_value_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_option_values_variants_on_variant_id_and_option_value_id" ON "spree_option_values_variants" ("variant_id", "option_value_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_option_values_variants_on_variant_id" ON "spree_option_values_variants" ("variant_id")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "total" decimal(8,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "deleted_at" datetime, "display_on" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar(255), "payment_method_id" integer, "state" varchar(255), "response_code" varchar(255), "avs_response" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100), "owner_id" integer, "owner_type" varchar(255), "value" text, "key" varchar(255), "value_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.4ms)[0m  CREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_product_option_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "position" integer, "product_id" integer, "option_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_product_properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "product_id" integer, "property_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_product_properties_on_product_id" ON "spree_product_properties" ("product_id")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" varchar(255), "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_on_name" ON "spree_products" ("name")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_products_taxons" ("product_id" integer, "taxon_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_taxons_on_product_id" ON "spree_products_taxons" ("product_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_taxons_on_taxon_id" ON "spree_products_taxons" ("taxon_id")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "presentation" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_properties_prototypes" ("prototype_id" integer, "property_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_prototypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "state" varchar(255), "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_roles_users" ("role_id" integer, "user_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_roles_users_on_role_id" ON "spree_roles_users" ("role_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_roles_users_on_user_id" ON "spree_roles_users" ("user_id")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar(255), "number" varchar(255), "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "shipping_method_id" integer, "address_id" integer, "state" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_shipments_on_number" ON "spree_shipments" ("number")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_shipping_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "zone_id" integer, "display_on" varchar(255), "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_state_changes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "previous_state" varchar(255), "stateful_id" integer, "user_id" integer, "stateful_type" varchar(255), "next_state" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "country_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_tax_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "is_default" boolean DEFAULT 'f', "deleted_at" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_tax_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(8,5), "zone_id" integer, "tax_category_id" integer, "included_in_price" boolean DEFAULT 'f', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_taxonomies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_taxons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "parent_id" integer, "position" integer DEFAULT 0, "name" varchar(255) NOT NULL, "permalink" varchar(255), "taxonomy_id" integer, "lft" integer, "rgt" integer, "icon_file_name" varchar(255), "icon_content_type" varchar(255), "icon_file_size" integer, "icon_updated_at" datetime, "description" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_taxons_on_parent_id" ON "spree_taxons" ("parent_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_taxons_on_permalink" ON "spree_taxons" ("permalink")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_taxons_on_taxonomy_id" ON "spree_taxons" ("taxonomy_id")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_tokenized_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "permissable_id" integer, "permissable_type" varchar(255), "token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_tokenized_name_and_type" ON "spree_tokenized_permissions" ("permissable_id", "permissable_type")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_trackers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "environment" varchar(255), "analytics_id" varchar(255), "active" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar(255), "remember_token" varchar(255), "persistence_token" varchar(255), "reset_password_token" varchar(255), "perishable_token" varchar(255), "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar(255), "unlock_token" varchar(255), "locked_at" datetime, "remember_created_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "cost_price" decimal(8,2), "position" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_zone_members" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "zoneable_id" integer, "zoneable_type" varchar(255), "zone_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_zones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "default_tax" boolean DEFAULT 'f', "zone_members_count" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184536"]]
  [1m[35m (4.4ms)[0m  commit transaction
Migrating to SpreePromoOneTwo (20140319184537)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_products_promotion_rules" ("product_id" integer, "promotion_rule_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_products_promotion_rules_on_product_id" ON "spree_products_promotion_rules" ("product_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_products_promotion_rules_on_promotion_rule_id" ON "spree_products_promotion_rules" ("promotion_rule_id")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_promotion_action_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "promotion_action_id" integer, "variant_id" integer, "quantity" integer DEFAULT 1) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_promotion_actions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "activator_id" integer, "position" integer, "type" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_promotion_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "activator_id" integer, "user_id" integer, "product_group_id" integer, "type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_promotion_rules_on_product_group_id" ON "spree_promotion_rules" ("product_group_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_promotion_rules_on_user_id" ON "spree_promotion_rules" ("user_id")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_promotion_rules_users" ("user_id" integer, "promotion_rule_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_promotion_rules_users_on_promotion_rule_id" ON "spree_promotion_rules_users" ("promotion_rule_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_promotion_rules_users_on_user_id" ON "spree_promotion_rules_users" ("user_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184537"]]
  [1m[35m (2.2ms)[0m  commit transaction
Migrating to AddTaxRateLabel (20140319184538)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_tax_rates" ADD "name" varchar(255)
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184538"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to AddToggleTaxRateDisplay (20140319184539)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_tax_rates" ADD "show_rate_in_label" boolean DEFAULT 't'
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184539"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to RemoveUnusedPreferenceColumns (20140319184540)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TEMPORARY TABLE "aspree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100), "owner_id" integer, "owner_type" varchar(255), "value" text, "key" varchar(255), "value_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "tindex_aspree_preferences_on_key" ON "aspree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_preferences"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_preferences"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "owner_type" varchar(255), "value" text, "key" varchar(255), "value_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.4ms)[0m  [1mCREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_preferences"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_preferences"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aspree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "owner_type" varchar(255), "value" text, "key" varchar(255), "value_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "tindex_aspree_preferences_on_key" ON "aspree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_preferences"
  [1m[36m (55.1ms)[0m  [1mDROP TABLE "spree_preferences"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_type" varchar(255), "value" text, "key" varchar(255), "value_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_preferences"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_preferences"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aspree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_type" varchar(255), "value" text, "key" varchar(255), "value_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "tindex_aspree_preferences_on_key" ON "aspree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_preferences"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spree_preferences"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" text, "key" varchar(255), "value_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_preferences"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_preferences"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184540"]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
Migrating to AddLockVersionToVariant (20140319184541)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_variants" ADD "lock_version" integer DEFAULT 0[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184541"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to AddStatesRequiredToCountries (20140319184542)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_countries" ADD "states_required" boolean DEFAULT 't'[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184542"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to AddOnDemandToProductAndVariant (20140319184543)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_products" ADD "on_demand" boolean DEFAULT 'f'[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_variants" ADD "on_demand" boolean DEFAULT 'f'
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184543"]]
  [1m[35m (2.6ms)[0m  commit transaction
Migrating to RemoveNotNullConstraintFromProductsOnHand (20140319184544)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" varchar(255), "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime, "on_demand" boolean DEFAULT 'f') 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_products_on_permalink" ON "aspree_products" ("permalink")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_products_on_name" ON "aspree_products" ("name")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_products_on_deleted_at" ON "aspree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_products_on_available_on" ON "aspree_products" ("available_on")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_products"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_products"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" varchar(255), "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_name" ON "spree_products" ("name")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_products"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "aspree_products"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f') 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_variants"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f') 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_variants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184544"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
Migrating to SplitPricesFromVariants (20140319184545)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spree_prices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer NOT NULL, "amount" decimal(8,2) NOT NULL, "currency" varchar(255)) [0m
  [1m[35mSpree::Variant Load (0.1ms)[0m  SELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_variants"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_variants"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_variants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184545"]]
  [1m[35m (2.3ms)[0m  commit transaction
Migrating to RemoveNotNullFromSpreePricesAmount (20140319184546)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_prices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer NOT NULL, "amount" decimal(8,2) NOT NULL, "currency" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_prices"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_prices"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_prices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer NOT NULL, "amount" decimal(8,2), "currency" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aspree_prices"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_prices"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184546"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Migrating to AddCurrencyToLineItems (20140319184547)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_line_items" ADD "currency" varchar(255)[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184547"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Migrating to AddCurrencyToOrders (20140319184548)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_orders" ADD "currency" varchar(255)[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184548"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Migrating to AddCostCurrencyToVariants (20140319184549)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_variants" ADD "cost_currency" varchar(255)[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184549"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Migrating to RemoveDisplayOnFromPaymentMethods (20140319184550)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "deleted_at" datetime, "display_on" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_payment_methods"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_payment_methods"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "deleted_at" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_payment_methods"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_payment_methods"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184550"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to AddPositionToTaxonomies (20140319184551)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_taxonomies" ADD "position" integer DEFAULT 0
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184551"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to AddLastIpToSpreeOrders (20140319184552)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_orders" ADD "last_ip_address" varchar(255)
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184552"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to AddStateToSpreeAdjustments (20140319184553)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_adjustments" ADD "state" varchar(255)
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar(255), "adjustable_id" integer, "adjustable_type" varchar(255), "originator_id" integer, "originator_type" varchar(255), "amount" decimal(8,2), "label" varchar(255), "mandatory" boolean, "locked" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime, "state" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_adjustments_on_order_id" ON "aspree_adjustments" ("adjustable_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_adjustments"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_adjustments"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar(255), "adjustable_id" integer, "adjustable_type" varchar(255), "originator_id" integer, "originator_type" varchar(255), "amount" decimal(8,2), "label" varchar(255), "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime, "state" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_adjustments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_adjustments"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184553"]]
  [1m[35m (2.1ms)[0m  commit transaction
Migrating to AddDisplayOnToSpreePaymentMethods (20140319184554)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_payment_methods" ADD "display_on" varchar(255)
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184554"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to AddPositionToProductProperties (20140319184555)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_product_properties" ADD "position" integer DEFAULT 0
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184555"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to AddIdentifierToSpreePayments (20140319184556)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_payments" ADD "identifier" varchar(255)
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184556"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to AddOrderIdIndexToPayments (20140319184557)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE INDEX "index_spree_payments_on_order_id" ON "spree_payments" ("order_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184557"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to AddPrimaryToSpreeProductsTaxons (20140319184558)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_products_taxons" ("product_id" integer, "taxon_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_products_taxons_on_taxon_id" ON "aspree_products_taxons" ("taxon_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_products_taxons_on_product_id" ON "aspree_products_taxons" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_products_taxons"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_products_taxons"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_products_taxons" ("product_id" integer, "taxon_id" integer, "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_taxons_on_product_id" ON "spree_products_taxons" ("product_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_taxons_on_taxon_id" ON "spree_products_taxons" ("taxon_id")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aspree_products_taxons"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_products_taxons"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184558"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeStockItems (20140319184559)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "spree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "lock_version" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items" ("stock_location_id")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "stock_item_by_loc_and_var_id" ON "spree_stock_items" ("stock_location_id", "variant_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184559"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to CreateSpreeStockLocations (20140319184560)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "spree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_spree_stock_locations_on_address_id" ON "spree_stock_locations" ("address_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184560"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to CreateDefaultStock (20140319184561)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "spree_stock_locations" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 19 Mar 2014 18:45:44 UTC +00:00], ["name", "default"], ["updated_at", Wed, 19 Mar 2014 18:45:44 UTC +00:00]]
  [1m[36mSpree::Variant Load (0.1ms)[0m  [1mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f', "cost_currency" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spree_variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f', "cost_currency" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_variants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184561"]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
Migrating to AddOrderIdIndexToShipments (20140319184562)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184562"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Migrating to ChangeMetaDescriptionOnSpreeProductsToText (20140319184563)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" varchar(255), "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_products_on_permalink" ON "aspree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_products_on_name" ON "aspree_products" ("name")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_products_on_deleted_at" ON "aspree_products" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_products_on_available_on" ON "aspree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_products"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_products"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" text, "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "on_demand" boolean DEFAULT 'f') 
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_on_name" ON "spree_products" ("name")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_products"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_products"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184563"]]
  [1m[35m (2.4ms)[0m  commit transaction
Migrating to AddStockLocationIdToSpreeShipments (20140319184564)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_shipments" ADD "stock_location_id" integer
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184564"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to AddPendingToInventoryUnit (20140319184565)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_inventory_units" ADD "pending" boolean DEFAULT 't'
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "spree_inventory_units" SET "pending" = 'f'[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184565"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to RemoveOnDemandFromProductAndVariant (20140319184566)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" text, "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "on_demand" boolean DEFAULT 'f') [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_products_on_permalink" ON "aspree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_products_on_name" ON "aspree_products" ("name")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_products_on_deleted_at" ON "aspree_products" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_products_on_available_on" ON "aspree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_products"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_products"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" text, "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_on_name" ON "spree_products" ("name")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_products"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_products"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "on_demand" boolean DEFAULT 'f', "cost_currency" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_variants"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_variants"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "cost_currency" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_variants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184566"]]
  [1m[35m (2.2ms)[0m  commit transaction
Migrating to CreateShippingMethodZone (20140319184567)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "shipping_methods_zones" ("shipping_method_id" integer, "zone_id" integer) 
  [1m[36mSpree::ShippingMethod Load (0.1ms)[0m  [1mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "zone_id" integer, "display_on" varchar(255), "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipping_methods"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_shipping_methods"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_shipping_methods"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_shipping_methods"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184567"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to RemoveShippingCategoryIdFromShippingMethod (20140319184568)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_shipping_methods"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_shipping_methods"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_shipping_methods"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184568"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to CreateShippingMethodCategories (20140319184569)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_shipping_method_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipping_method_id" integer NOT NULL, "shipping_category_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_spree_shipping_method_categories_on_shipping_method_id" ON "spree_shipping_method_categories" ("shipping_method_id")[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_spree_shipping_method_categories_on_shipping_category_id" ON "spree_shipping_method_categories" ("shipping_category_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184569"]]
  [1m[35m (2.4ms)[0m  commit transaction
Migrating to AddTrackingUrlToSpreeShippingMethods (20140319184570)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_shipping_methods" ADD "tracking_url" varchar(255)
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184570"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to CreateSpreeShippingRates (20140319184571)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_shipping_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipment_id" integer, "shipping_method_id" integer, "selected" boolean DEFAULT 'f', "cost" decimal(8,2), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "spree_shipping_rates_join_index" ON "spree_shipping_rates" ("shipment_id", "shipping_method_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184571"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Migrating to RemoveCategoryMatchAttributesFromShippingMethod (20140319184572)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "tracking_url" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  SELECT * FROM "spree_shipping_methods"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "tracking_url" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_shipping_methods"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_shipping_methods"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "match_all" boolean, "match_one" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "tracking_url" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_shipping_methods"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "spree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "match_all" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "tracking_url" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_shipping_methods"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "match_all" boolean, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "tracking_url" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_shipping_methods"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "tracking_url" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_shipping_methods"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_shipping_methods"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184572"]]
  [1m[35m (1.3ms)[0m  commit transaction
Migrating to CreateStockMovements (20140319184573)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer, "action" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184573"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Migrating to AddAddressFieldsToStockLocation (20140319184574)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_stock_locations_on_address_id" ON "aspree_stock_locations" ("address_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_locations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aspree_stock_locations" ("id","name","address_id","created_at","updated_at") VALUES (1, 'default', NULL, '2014-03-19 18:45:44.635068', '2014-03-19 18:45:44.635068')
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_stock_locations"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_locations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "spree_stock_locations" ("id","name","created_at","updated_at") VALUES (1, 'default', '2014-03-19 18:45:44.635068', '2014-03-19 18:45:44.635068')
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_stock_locations"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_locations" ADD "address1" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD "address2" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_locations" ADD "city" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD "state_id" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_locations" ADD "state_name" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD "country_id" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_locations" ADD "zipcode" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD "phone" varchar(255)[0m
  [1m[35mSpree::Country Load (0.1ms)[0m  SELECT "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = 'US' ORDER BY "spree_countries"."id" ASC LIMIT 1
  [1m[36mSpree::Country Load (0.1ms)[0m  [1mSELECT "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "spree_stock_locations" SET "country_id" = NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184574"]]
  [1m[35m (2.2ms)[0m  commit transaction
Migrating to AddActiveFieldToStockLocations (20140319184575)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD "active" boolean DEFAULT 't'
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184575"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to AddBackorderableToStockItem (20140319184576)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_items" ADD "backorderable" boolean DEFAULT 't'
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184576"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to AddDefaultQuantityToStockMovement (20140319184577)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer, "action" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_stock_movements"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_stock_movements"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_movements"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_stock_movements"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184577"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to AddSourceAndDestinationToStockMovements (20140319184578)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_stock_movements" ADD "source_id" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_movements" ADD "source_type" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_movements" ADD "destination_id" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_movements" ADD "destination_type" varchar(255)
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184578"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to ChangeOrdersTotalPrecision (20140319184579)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "total" decimal(8,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(8,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_orders"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_orders"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(8,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(10,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_orders"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_orders"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(10,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(10,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")[0m
  [1m[35m (0.2ms)[0m  SELECT * FROM "aspree_orders"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_orders"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(10,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(10,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255)) 
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_orders"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_orders"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184579"]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
Migrating to ChangeSpreePaymentsAmountPrecision (20140319184580)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar(255), "payment_method_id" integer, "state" varchar(255), "response_code" varchar(255), "avs_response" varchar(255), "created_at" datetime, "updated_at" datetime, "identifier" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_payments_on_order_id" ON "aspree_payments" ("order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_payments"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_payments"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar(255), "payment_method_id" integer, "state" varchar(255), "response_code" varchar(255), "avs_response" varchar(255), "created_at" datetime, "updated_at" datetime, "identifier" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_payments_on_order_id" ON "spree_payments" ("order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_payments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_payments"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184580"]]
  [1m[35m (2.4ms)[0m  commit transaction
Migrating to ChangeSpreeReturnAuthorizationAmountPrecision (20140319184581)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "state" varchar(255), "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_return_authorizations"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_return_authorizations"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "state" varchar(255), "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_return_authorizations"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_return_authorizations"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184581"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Migrating to ChangeAdjustmentsAmountPrecision (20140319184582)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar(255), "adjustable_id" integer, "adjustable_type" varchar(255), "originator_id" integer, "originator_type" varchar(255), "amount" decimal(8,2), "label" varchar(255), "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime, "state" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_adjustments_on_order_id" ON "aspree_adjustments" ("adjustable_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_adjustments"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_adjustments"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar(255), "adjustable_id" integer, "adjustable_type" varchar(255), "originator_id" integer, "originator_type" varchar(255), "amount" decimal(10,2), "label" varchar(255), "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime, "state" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_adjustments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_adjustments"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184582"]]
  [1m[35m (2.5ms)[0m  commit transaction
Migrating to AddOriginatorToStockMovement (20140319184583)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_movements" ADD "originator_id" integer
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_movements" ADD "originator_type" varchar(255)[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184583"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Migrating to DropSourceAndDestinationFromStockMovement (20140319184584)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime, "source_id" integer, "source_type" varchar(255), "destination_id" integer, "destination_type" varchar(255), "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_movements"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_stock_movements"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime, "source_type" varchar(255), "destination_id" integer, "destination_type" varchar(255), "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_movements"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_stock_movements"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime, "source_type" varchar(255), "destination_id" integer, "destination_type" varchar(255), "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_movements"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_stock_movements"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime, "destination_id" integer, "destination_type" varchar(255), "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_movements"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_stock_movements"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime, "destination_id" integer, "destination_type" varchar(255), "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_movements"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "spree_stock_movements"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime, "destination_type" varchar(255), "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_movements"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_stock_movements"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime, "destination_type" varchar(255), "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_stock_movements_on_stock_item_id" ON "aspree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_movements"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_stock_movements"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime, "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_movements"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_stock_movements"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184584"]]
  [1m[35m (1.9ms)[0m  commit transaction
Migrating to MigrateInventoryUnitSoldToOnHand (20140319184585)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "spree_inventory_units" SET "state" = 'on_hand' WHERE "spree_inventory_units"."state" = 'sold'
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184585"]]
  [1m[35m (1.4ms)[0m  commit transaction
Migrating to AddStockLocationToRma (20140319184586)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_return_authorizations" ADD "stock_location_id" integer
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184586"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to UpdateShipmentStateForCanceledOrders (20140319184587)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184587"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Migrating to AddSeoMetasToTaxons (20140319184588)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_taxons" ADD "meta_title" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_taxons" ADD "meta_description" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_taxons" ADD "meta_keywords" varchar(255)[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184588"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Migrating to RemoveStockItemAndVariantLock (20140319184589)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "lock_version" integer, "created_at" datetime, "updated_at" datetime, "backorderable" boolean DEFAULT 't') [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tstock_item_by_loc_and_var_id" ON "aspree_stock_items" ("stock_location_id", "variant_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_stock_items_on_stock_location_id" ON "aspree_stock_items" ("stock_location_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_stock_items"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_stock_items"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime, "backorderable" boolean DEFAULT 't') 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items" ("stock_location_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "stock_item_by_loc_and_var_id" ON "spree_stock_items" ("stock_location_id", "variant_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_items"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_stock_items"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "lock_version" integer DEFAULT 0, "cost_currency" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_variants"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_variants"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "cost_currency" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_variants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184589"]]
  [1m[35m (2.1ms)[0m  commit transaction
Migrating to AddIndexToSourceColumnsOnAdjustments (20140319184590)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE INDEX "index_spree_adjustments_on_source_type_and_source_id" ON "spree_adjustments" ("source_type", "source_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184590"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to UpdateAdjustmentStates (20140319184591)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::Order Load (0.2ms)[0m  SELECT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL)
  [1m[36mSpree::Shipment Load (0.1ms)[0m  [1mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."state" IN ('shipped')[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "spree_adjustments" SET "state" = 'open' WHERE "spree_adjustments"."state" IS NULL
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184591"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to AddShippingRatesToShipments (20140319184592)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::Shipment Load (0.1ms)[0m  SELECT "spree_shipments".* FROM "spree_shipments"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar(255), "number" varchar(255), "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "shipping_method_id" integer, "address_id" integer, "state" varchar(255), "created_at" datetime, "updated_at" datetime, "stock_location_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_shipments_on_order_id" ON "aspree_shipments" ("order_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_shipments_on_number" ON "aspree_shipments" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_shipments"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_shipments"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar(255), "number" varchar(255), "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar(255), "created_at" datetime, "updated_at" datetime, "stock_location_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_shipments_on_number" ON "spree_shipments" ("number")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_shipments"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "aspree_shipments"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184592"]]
  [1m[35m (2.5ms)[0m  commit transaction
Migrating to CreateSpreeStockTransfers (20140319184593)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_stock_transfers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "reference_number" varchar(255), "source_location_id" integer, "destination_location_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_stock_transfers_on_source_location_id" ON "spree_stock_transfers" ("source_location_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_stock_transfers_on_destination_location_id" ON "spree_stock_transfers" ("destination_location_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184593"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to DropProductsCountOnHand (20140319184594)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" text, "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_products_on_permalink" ON "aspree_products" ("permalink")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_products_on_name" ON "aspree_products" ("name")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_products_on_deleted_at" ON "aspree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_products_on_available_on" ON "aspree_products" ("available_on")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_products"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_products"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" text, "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_products_on_name" ON "spree_products" ("name")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_products"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_products"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184594"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to SetDefaultShippingRateCost (20140319184595)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_shipping_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipment_id" integer, "shipping_method_id" integer, "selected" boolean DEFAULT 'f', "cost" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "tspree_shipping_rates_join_index" ON "aspree_shipping_rates" ("shipment_id", "shipping_method_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_shipping_rates"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_shipping_rates"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_shipping_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipment_id" integer, "shipping_method_id" integer, "selected" boolean DEFAULT 'f', "cost" decimal(8,2) DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "spree_shipping_rates_join_index" ON "spree_shipping_rates" ("shipment_id", "shipping_method_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_shipping_rates"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_shipping_rates"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184595"]]
  [1m[35m (2.0ms)[0m  commit transaction
Migrating to AddNumberToStockTransfer (20140319184596)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_spree_stock_transfers_on_source_location_id"
  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_spree_stock_transfers_on_destination_location_id"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_stock_transfers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "reference" varchar(255), "source_location_id" integer, "destination_location_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_stock_transfers"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "spree_stock_transfers"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_stock_transfers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "reference" varchar(255), "source_location_id" integer, "destination_location_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_transfers"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_stock_transfers"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_transfers" ADD "number" varchar(255)
  [1m[36mSpree::StockTransfer Load (0.1ms)[0m  [1mSELECT "spree_stock_transfers".* FROM "spree_stock_transfers"[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_spree_stock_transfers_on_number" ON "spree_stock_transfers" ("number")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_stock_transfers_on_source_location_id" ON "spree_stock_transfers" ("source_location_id")[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_spree_stock_transfers_on_destination_location_id" ON "spree_stock_transfers" ("destination_location_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184596"]]
  [1m[35m (2.0ms)[0m  commit transaction
Migrating to AddSkuIndexToSpreeVariants (20140319184597)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE INDEX "index_spree_variants_on_sku" ON "spree_variants" ("sku")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184597"]]
  [1m[35m (2.4ms)[0m  commit transaction
Migrating to AddBackorderableDefaultToSpreeStockLocation (20140319184598)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD "backorderable_default" boolean DEFAULT 't'
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184598"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to AddPropageAllVariantsToSpreeStockLocation (20140319184599)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD "propagate_all_variants" boolean DEFAULT 't'
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184599"]]
  [1m[35m (1.3ms)[0m  commit transaction
Migrating to RenameShippingMethodsZonesToSpreeShippingMethodsZones (20140319184600)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "shipping_methods_zones" RENAME TO "spree_shipping_methods_zones"
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184600"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to AddUserIdIndexToSpreeOrders (20140319184601)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE INDEX "index_spree_orders_on_user_id" ON "spree_orders" ("user_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184601"]]
  [1m[35m (2.0ms)[0m  commit transaction
Migrating to AddUpdatedAtToSpreeCountries (20140319184602)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_countries" ADD "updated_at" datetime
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184602"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to AddUpdatedAtToSpreeStates (20140319184603)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_states" ADD "updated_at" datetime
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184603"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to AddCvvResultCodeAndCvvResultMessageToSpreePayments (20140319184604)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_payments" ADD "cvv_response_code" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_payments" ADD "cvv_response_message" varchar(255)[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184604"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Migrating to AddUniqueIndexToPermalinkOnSpreeProducts (20140319184605)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "permalink_idx_unique" ON "spree_products" ("permalink")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184605"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Migrating to AddUniqueIndexToOrdersShipmentsAndStockTransfers (20140319184606)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184606"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to AddDeletedAtToSpreeTaxRates (20140319184607)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_tax_rates" ADD "deleted_at" datetime
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184607"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to RemoveLockVersionFromInventoryUnits (20140319184608)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lock_version" integer DEFAULT 0, "state" varchar(255), "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" datetime, "updated_at" datetime, "pending" boolean DEFAULT 't') 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_inventory_units_on_variant_id" ON "aspree_inventory_units" ("variant_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_inventory_units_on_shipment_id" ON "aspree_inventory_units" ("shipment_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_inventory_units_on_order_id" ON "aspree_inventory_units" ("order_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_inventory_units"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_inventory_units"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar(255), "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" datetime, "updated_at" datetime, "pending" boolean DEFAULT 't') 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_inventory_units_on_order_id" ON "spree_inventory_units" ("order_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_inventory_units_on_shipment_id" ON "spree_inventory_units" ("shipment_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_inventory_units_on_variant_id" ON "spree_inventory_units" ("variant_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_inventory_units"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_inventory_units"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184608"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to AddCostPriceToLineItem (20140319184609)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_line_items" ADD "cost_price" decimal(8,2)[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184609"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Migrating to SetBackorderableToDefaultToFalse (20140319184610)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime, "backorderable" boolean DEFAULT 't') [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tstock_item_by_loc_and_var_id" ON "aspree_stock_items" ("stock_location_id", "variant_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_stock_items_on_stock_location_id" ON "aspree_stock_items" ("stock_location_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_stock_items"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_stock_items"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime, "backorderable" boolean DEFAULT 'f') 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items" ("stock_location_id")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "stock_item_by_loc_and_var_id" ON "spree_stock_items" ("stock_location_id", "variant_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_stock_items"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_stock_items"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "state_id" integer, "state_name" varchar(255), "country_id" integer, "zipcode" varchar(255), "phone" varchar(255), "active" boolean DEFAULT 't', "backorderable_default" boolean DEFAULT 't', "propagate_all_variants" boolean DEFAULT 't') [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_stock_locations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aspree_stock_locations" ("id","name","created_at","updated_at","address1","address2","city","state_id","state_name","country_id","zipcode","phone","active","backorderable_default","propagate_all_variants") VALUES (1, 'default', '2014-03-19 18:45:44.635068', '2014-03-19 18:45:44.635068', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 't', 't', 't')[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_stock_locations"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "state_id" integer, "state_name" varchar(255), "country_id" integer, "zipcode" varchar(255), "phone" varchar(255), "active" boolean DEFAULT 't', "backorderable_default" boolean DEFAULT 'f', "propagate_all_variants" boolean DEFAULT 't') [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_stock_locations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "spree_stock_locations" ("id","name","created_at","updated_at","address1","address2","city","state_id","state_name","country_id","zipcode","phone","active","backorderable_default","propagate_all_variants") VALUES (1, 'default', '2014-03-19 18:45:44.635068', '2014-03-19 18:45:44.635068', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 't', 't', 't')[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_stock_locations"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184610"]]
  [1m[35m (2.3ms)[0m  commit transaction
Migrating to AddCreatedByIdToSpreeOrders (20140319184611)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_orders" ADD "created_by_id" integer
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184611"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to IndexCompletedAtOnSpreeOrders (20140319184612)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE INDEX "index_spree_orders_on_completed_at" ON "spree_orders" ("completed_at")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184612"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to AddTaxCategoryIdToSpreeLineItems (20140319184613)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_line_items" ADD "tax_category_id" integer
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184613"]]
  [1m[35m (1.4ms)[0m  commit transaction
Migrating to MigrateTaxCategoriesToLineItems (20140319184614)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::LineItem Load (0.1ms)[0m  SELECT "spree_line_items".* FROM "spree_line_items" ORDER BY "spree_line_items"."id" ASC LIMIT 1000
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184614"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to DropSpreeMailMethods (20140319184615)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_mail_methods"
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184615"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to SetDefaultStockLocationOnShipments (20140319184616)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "spree_shipments" WHERE (stock_location_id IS NULL)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184616"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to AddAdminNameColumnToSpreeShippingMethods (20140319184617)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_shipping_methods" ADD "admin_name" varchar(255)
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184617"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to AddAdminNameColumnToSpreeStockLocations (20140319184618)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD "admin_name" varchar(255)
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184618"]]
  [1m[35m (1.4ms)[0m  commit transaction
Migrating to ExpandOrderNumberSize (20140319184619)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(15), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(10,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255), "created_by_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_orders_on_completed_at" ON "aspree_orders" ("completed_at")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_orders_on_user_id" ON "aspree_orders" ("user_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_orders_on_number" ON "aspree_orders" ("number")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_orders"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_orders"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(32), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(10,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255), "created_by_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_spree_orders_on_user_id" ON "spree_orders" ("user_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_orders_on_completed_at" ON "spree_orders" ("completed_at")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_orders"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_orders"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184619"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
Migrating to AddDepthToSpreeTaxons (20140319184620)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::Preference Load (0.1ms)[0m  [1mSELECT "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = 'spree/app_configuration/use_s3' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_taxons" ADD "depth" integer
  [1m[36mSpree::Taxon Load (0.1ms)[0m  [1mSELECT "spree_taxons".* FROM "spree_taxons"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184620"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to AddShippingCategoryToShippingMethodsAndProducts (20140319184621)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::ShippingCategory Load (0.1ms)[0m  [1mSELECT "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "spree_shipping_categories" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 19 Mar 2014 18:45:45 UTC +00:00], ["name", "Default"], ["updated_at", Wed, 19 Mar 2014 18:45:45 UTC +00:00]]
  [1m[36mSpree::ShippingMethod Load (0.1ms)[0m  [1mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "spree_products" SET "shipping_category_id" = 1 WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."shipping_category_id" IS NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184621"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to MigrateOldShippingCalculators (20140319184622)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSpree::ShippingMethod Load (0.1ms)[0m  SELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184622"]]
  [1m[35m (1.3ms)[0m  commit transaction
Migrating to ChangeStatesRequiredForCountries (20140319184623)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aspree_countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "iso_name" varchar(255), "iso" varchar(255), "iso3" varchar(255), "name" varchar(255), "numcode" integer, "states_required" boolean DEFAULT 't', "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_countries"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_countries"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "iso_name" varchar(255), "iso" varchar(255), "iso3" varchar(255), "name" varchar(255), "numcode" integer, "states_required" boolean DEFAULT 'f', "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_countries"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_countries"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184623"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to AddDeletedAtToSpreeStockItems (20140319184624)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_stock_items" ADD "deleted_at" datetime[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184624"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveUnusedCreditCardFields (20140319184625)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "start_month" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_credit_cards"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_credit_cards"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_credit_cards"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_credit_cards"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "start_year" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_credit_cards"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "spree_credit_cards"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_credit_cards"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_credit_cards"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "issue_number" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_credit_cards"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "spree_credit_cards"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_credit_cards"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_credit_cards"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184625"]]
  [1m[35m (2.6ms)[0m  commit transaction
Migrating to AddTrackInventoryToVariant (20140319184626)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_variants" ADD "track_inventory" boolean DEFAULT 't'
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184626"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to AddChannelToSpreeOrders (20140319184627)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_orders" ADD "channel" varchar(255) DEFAULT 'spree'
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184627"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to AddTaxTotalToSpreeOrders (20140319184628)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_orders" ADD "tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184628"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to AddOrderIdToSpreeAdjustments (20140319184629)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_adjustments" ADD "order_id" integer
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_spree_adjustments_on_order_id" ON "spree_adjustments" ("order_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184629"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to AddIncludedToSpreeAdjustments (20140319184630)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_adjustments" ADD "included" boolean DEFAULT 'f'[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184630"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to AddUpdatedAtToVariants (20140319184631)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_variants" ADD "updated_at" datetime[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184631"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to UniqueShippingMethodCategories (20140319184632)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSpree::ShippingMethodCategory Load (0.2ms)[0m  [1mSELECT shipping_category_id,shipping_method_id,COUNT(*) FROM "spree_shipping_method_categories" GROUP BY shipping_category_id,shipping_method_id HAVING COUNT(*) > 1[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "unique_spree_shipping_method_categories" ON "spree_shipping_method_categories" ("shipping_category_id", "shipping_method_id")
  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_spree_shipping_method_categories_on_shipping_category_id"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184632"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Migrating to AddIndexToVariantIdAndCurrencyOnPrices (20140319184633)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE INDEX "index_spree_prices_on_variant_id_and_currency" ON "spree_prices" ("variant_id", "currency")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184633"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to AddDeletedAtToSpreePrices (20140319184634)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_prices" ADD "deleted_at" datetime[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184634"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Migrating to AddAutoCaptureToPaymentMethods (20140319184635)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_payment_methods" ADD "auto_capture" boolean[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184635"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Migrating to DefaultVariantWeightToZero (20140319184636)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "spree_variants" SET weight = 0.0 WHERE "spree_variants"."weight" IS NULL[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "cost_currency" varchar(255), "track_inventory" boolean DEFAULT 't', "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_variants_on_sku" ON "aspree_variants" ("sku")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "tindex_aspree_variants_on_product_id" ON "aspree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_variants"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "spree_variants"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2) DEFAULT 0.0, "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "cost_currency" varchar(255), "track_inventory" boolean DEFAULT 't', "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_variants_on_sku" ON "spree_variants" ("sku")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "aspree_variants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184636"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateUsers (20140319184637)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184637"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to RenameColumnsForDevise (20140319184638)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184638"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to ConvertUserRememberField (20140319184639)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar(255), "remember_token" varchar(255), "persistence_token" varchar(255), "reset_password_token" varchar(255), "perishable_token" varchar(255), "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar(255), "unlock_token" varchar(255), "locked_at" datetime, "remember_created_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_users"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_users"[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "spree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar(255), "remember_token" varchar(255), "persistence_token" varchar(255), "reset_password_token" varchar(255), "perishable_token" varchar(255), "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar(255), "unlock_token" varchar(255), "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_users"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_users" ADD "remember_created_at" datetime[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184639"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
Migrating to AddResetPasswordSentAtToSpreeUsers (20140319184640)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184640"]]
  [1m[35m (1.3ms)[0m  commit transaction
Migrating to MakeUsersEmailIndexUnique (20140319184641)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "email_idx_unique" ON "spree_users" ("email")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184641"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to AddHstore (20140319184642)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184642"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to AddPuntopagosAttributesToSpreePayments (20140319184643)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_payments" ADD "token" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_payments" ADD "puntopagos_params" text
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184643"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to AddTrxIdToSpreePayments (20140319184644)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_payments" ADD "trx_id" varchar(255)
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184644"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to ChangeTrxIdToIntegerIntoSpreePayments (20140319184645)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar(255), "payment_method_id" integer, "state" varchar(255), "response_code" varchar(255), "avs_response" varchar(255), "created_at" datetime, "updated_at" datetime, "identifier" varchar(255), "cvv_response_code" varchar(255), "cvv_response_message" varchar(255), "token" varchar(255), "puntopagos_params" text, "trx_id" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "tindex_aspree_payments_on_order_id" ON "aspree_payments" ("order_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_payments"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_payments"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "spree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar(255), "payment_method_id" integer, "state" varchar(255), "response_code" varchar(255), "avs_response" varchar(255), "created_at" datetime, "updated_at" datetime, "identifier" varchar(255), "cvv_response_code" varchar(255), "cvv_response_message" varchar(255), "token" varchar(255), "puntopagos_params" text, "trx_id" integer(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_spree_payments_on_order_id" ON "spree_payments" ("order_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_payments"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_payments"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184645"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to AddApiKeyToSpreeUsers (20140319184646)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_users" ADD "api_key" varchar(40)[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184646"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to ResizeApiKeyField (20140319184647)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "aspree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar(255), "remember_token" varchar(255), "persistence_token" varchar(255), "reset_password_token" varchar(255), "perishable_token" varchar(255), "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar(255), "unlock_token" varchar(255), "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime, "updated_at" datetime, "remember_created_at" datetime, "api_key" varchar(40)) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "temail_idx_unique" ON "aspree_users" ("email")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "spree_users"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "spree_users"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "spree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar(255), "remember_token" varchar(255), "persistence_token" varchar(255), "reset_password_token" varchar(255), "perishable_token" varchar(255), "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar(255), "unlock_token" varchar(255), "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime, "updated_at" datetime, "remember_created_at" datetime, "api_key" varchar(48)) [0m
  [1m[35m (0.4ms)[0m  CREATE UNIQUE INDEX "email_idx_unique" ON "spree_users" ("email")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aspree_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aspree_users"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140319184647"]]
  [1m[35m (2.0ms)[0m  commit transaction
Migrating to RenameApiKeyToSpreeApiKey (20140319184648)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "aspree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar(255), "remember_token" varchar(255), "persistence_token" varchar(255), "reset_password_token" varchar(255), "perishable_token" varchar(255), "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar(255), "unlock_token" varchar(255), "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime, "updated_at" datetime, "remember_created_at" datetime, "spree_api_key" varchar(48)) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "temail_idx_unique" ON "aspree_users" ("email")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "spree_users"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "spree_users"[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "spree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar(255), "remember_token" varchar(255), "persistence_token" varchar(255), "reset_password_token" varchar(255), "perishable_token" varchar(255), "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar(255), "unlock_token" varchar(255), "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime, "updated_at" datetime, "remember_created_at" datetime, "spree_api_key" varchar(48)) 
  [1m[36m (0.4ms)[0m  [1mCREATE UNIQUE INDEX "email_idx_unique" ON "spree_users" ("email")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aspree_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aspree_users"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184648"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to AddIndexToUserSpreeApiKey (20140319184649)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE INDEX "index_spree_users_on_spree_api_key" ON "spree_users" ("spree_api_key")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140319184649"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "spree_activators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "expires_at" datetime, "starts_at" datetime, "name" varchar(255), "event_name" varchar(255), "type" varchar(255), "usage_limit" integer, "match_policy" varchar(255) DEFAULT 'all', "code" varchar(255), "advertise" boolean DEFAULT 'f', "path" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "spree_addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar(255), "lastname" varchar(255), "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "zipcode" varchar(255), "phone" varchar(255), "state_name" varchar(255), "alternative_phone" varchar(255), "company" varchar(255), "state_id" integer, "country_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.0ms)[0m  [1mCREATE INDEX "index_addresses_on_firstname" ON "spree_addresses" ("firstname")[0m
  [1m[35m (1.2ms)[0m  CREATE INDEX "index_addresses_on_lastname" ON "spree_addresses" ("lastname")
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "spree_adjustments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar(255), "adjustable_id" integer, "adjustable_type" varchar(255), "originator_id" integer, "originator_type" varchar(255), "amount" decimal(10,2), "label" varchar(255), "mandatory" boolean, "eligible" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime, "state" varchar(255), "order_id" integer, "included" boolean DEFAULT 'f') [0m
  [1m[35m (1.4ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")
  [1m[36m (1.2ms)[0m  [1mCREATE INDEX "index_spree_adjustments_on_order_id" ON "spree_adjustments" ("order_id")[0m
  [1m[35m (1.4ms)[0m  CREATE INDEX "index_spree_adjustments_on_source_type_and_source_id" ON "spree_adjustments" ("source_type", "source_id")
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "spree_assets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "viewable_id" integer, "viewable_type" varchar(255), "attachment_width" integer, "attachment_height" integer, "attachment_file_size" integer, "position" integer, "attachment_content_type" varchar(255), "attachment_file_name" varchar(255), "type" varchar(75), "attachment_updated_at" datetime, "alt" text) [0m
  [1m[35m (1.3ms)[0m  CREATE INDEX "index_assets_on_viewable_id" ON "spree_assets" ("viewable_id")
  [1m[36m (2.3ms)[0m  [1mCREATE INDEX "index_assets_on_viewable_type_and_type" ON "spree_assets" ("viewable_type", "type")[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "spree_calculators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "calculable_id" integer, "calculable_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "spree_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "type" varchar(50), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE INDEX "index_spree_configurations_on_name_and_type" ON "spree_configurations" ("name", "type")
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "spree_countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "iso_name" varchar(255), "iso" varchar(255), "iso3" varchar(255), "name" varchar(255), "numcode" integer, "states_required" boolean DEFAULT 'f', "updated_at" datetime) [0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "spree_credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "month" varchar(255), "year" varchar(255), "cc_type" varchar(255), "last_digits" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "address_id" integer, "gateway_customer_profile_id" varchar(255), "gateway_payment_profile_id" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "spree_gateways" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "server" varchar(255) DEFAULT 'test', "test_mode" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "spree_inventory_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar(255), "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" datetime, "updated_at" datetime, "pending" boolean DEFAULT 't') 
  [1m[36m (1.9ms)[0m  [1mCREATE INDEX "index_inventory_units_on_order_id" ON "spree_inventory_units" ("order_id")[0m
  [1m[35m (1.7ms)[0m  CREATE INDEX "index_inventory_units_on_shipment_id" ON "spree_inventory_units" ("shipment_id")
  [1m[36m (1.4ms)[0m  [1mCREATE INDEX "index_inventory_units_on_variant_id" ON "spree_inventory_units" ("variant_id")[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "spree_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(8,2) NOT NULL, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "cost_price" decimal(8,2), "tax_category_id" integer) 
  [1m[36m (1.5ms)[0m  [1mCREATE INDEX "index_spree_line_items_on_order_id" ON "spree_line_items" ("order_id")[0m
  [1m[35m (1.4ms)[0m  CREATE INDEX "index_spree_line_items_on_variant_id" ON "spree_line_items" ("variant_id")
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "spree_log_entries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "source_id" integer, "source_type" varchar(255), "details" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "spree_option_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100), "presentation" varchar(100), "position" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (2.5ms)[0m  [1mCREATE TABLE "spree_option_types_prototypes" ("prototype_id" integer, "option_type_id" integer) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "spree_option_values" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "position" integer, "name" varchar(255), "presentation" varchar(255), "option_type_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "spree_option_values_variants" ("variant_id" integer, "option_value_id" integer) [0m
  [1m[35m (1.8ms)[0m  CREATE INDEX "index_option_values_variants_on_variant_id_and_option_value_id" ON "spree_option_values_variants" ("variant_id", "option_value_id")
  [1m[36m (1.8ms)[0m  [1mCREATE INDEX "index_spree_option_values_variants_on_variant_id" ON "spree_option_values_variants" ("variant_id")[0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "spree_orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(32), "item_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "total" decimal(10,2) DEFAULT 0.0 NOT NULL, "state" varchar(255), "adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" datetime, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(10,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" varchar(255), "payment_state" varchar(255), "email" varchar(255), "special_instructions" text, "created_at" datetime, "updated_at" datetime, "currency" varchar(255), "last_ip_address" varchar(255), "created_by_id" integer, "channel" varchar(255) DEFAULT 'spree', "tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE INDEX "index_spree_orders_on_completed_at" ON "spree_orders" ("completed_at")[0m
  [1m[35m (1.6ms)[0m  CREATE INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")
  [1m[36m (1.4ms)[0m  [1mCREATE INDEX "index_spree_orders_on_user_id" ON "spree_orders" ("user_id")[0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "spree_payment_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "name" varchar(255), "description" text, "active" boolean DEFAULT 't', "environment" varchar(255) DEFAULT 'development', "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "display_on" varchar(255), "auto_capture" boolean) 
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "spree_payments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_id" integer, "source_type" varchar(255), "payment_method_id" integer, "state" varchar(255), "response_code" varchar(255), "avs_response" varchar(255), "created_at" datetime, "updated_at" datetime, "identifier" varchar(255), "cvv_response_code" varchar(255), "cvv_response_message" varchar(255), "token" varchar(255), "puntopagos_params" text, "trx_id" integer(255)) [0m
  [1m[35m (1.7ms)[0m  CREATE INDEX "index_spree_payments_on_order_id" ON "spree_payments" ("order_id")
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "spree_preferences" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" text, "key" varchar(255), "value_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "spree_prices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "variant_id" integer NOT NULL, "amount" decimal(8,2), "currency" varchar(255), "deleted_at" datetime) [0m
  [1m[35m (2.3ms)[0m  CREATE INDEX "index_spree_prices_on_variant_id_and_currency" ON "spree_prices" ("variant_id", "currency")
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "spree_product_option_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "position" integer, "product_id" integer, "option_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (2.2ms)[0m  CREATE TABLE "spree_product_properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar(255), "product_id" integer, "property_id" integer, "created_at" datetime, "updated_at" datetime, "position" integer DEFAULT 0) 
  [1m[36m (1.6ms)[0m  [1mCREATE INDEX "index_product_properties_on_product_id" ON "spree_product_properties" ("product_id")[0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "spree_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '' NOT NULL, "description" text, "available_on" datetime, "deleted_at" datetime, "permalink" varchar(255), "meta_description" text, "meta_keywords" varchar(255), "tax_category_id" integer, "shipping_category_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.7ms)[0m  [1mCREATE INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (1.8ms)[0m  CREATE INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")
  [1m[36m (1.7ms)[0m  [1mCREATE INDEX "index_spree_products_on_name" ON "spree_products" ("name")[0m
  [1m[35m (1.7ms)[0m  CREATE INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX "permalink_idx_unique" ON "spree_products" ("permalink")[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "spree_products_promotion_rules" ("product_id" integer, "promotion_rule_id" integer) 
  [1m[36m (1.6ms)[0m  [1mCREATE INDEX "index_products_promotion_rules_on_product_id" ON "spree_products_promotion_rules" ("product_id")[0m
  [1m[35m (1.5ms)[0m  CREATE INDEX "index_products_promotion_rules_on_promotion_rule_id" ON "spree_products_promotion_rules" ("promotion_rule_id")
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "spree_products_taxons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "taxon_id" integer) [0m
  [1m[35m (1.5ms)[0m  CREATE INDEX "index_spree_products_taxons_on_product_id" ON "spree_products_taxons" ("product_id")
  [1m[36m (2.2ms)[0m  [1mCREATE INDEX "index_spree_products_taxons_on_taxon_id" ON "spree_products_taxons" ("taxon_id")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "spree_promotion_action_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "promotion_action_id" integer, "variant_id" integer, "quantity" integer DEFAULT 1) 
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "spree_promotion_actions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "activator_id" integer, "position" integer, "type" varchar(255)) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "spree_promotion_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "activator_id" integer, "user_id" integer, "product_group_id" integer, "type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.6ms)[0m  [1mCREATE INDEX "index_promotion_rules_on_product_group_id" ON "spree_promotion_rules" ("product_group_id")[0m
  [1m[35m (2.3ms)[0m  CREATE INDEX "index_promotion_rules_on_user_id" ON "spree_promotion_rules" ("user_id")
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "spree_promotion_rules_users" ("user_id" integer, "promotion_rule_id" integer) [0m
  [1m[35m (1.8ms)[0m  CREATE INDEX "index_promotion_rules_users_on_promotion_rule_id" ON "spree_promotion_rules_users" ("promotion_rule_id")
  [1m[36m (2.3ms)[0m  [1mCREATE INDEX "index_promotion_rules_users_on_user_id" ON "spree_promotion_rules_users" ("user_id")[0m
  [1m[35m (2.2ms)[0m  CREATE TABLE "spree_properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "presentation" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "spree_properties_prototypes" ("prototype_id" integer, "property_id" integer) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "spree_prototypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "spree_return_authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "state" varchar(255), "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "stock_location_id" integer) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "spree_roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (2.4ms)[0m  [1mCREATE TABLE "spree_roles_users" ("role_id" integer, "user_id" integer) [0m
  [1m[35m (1.8ms)[0m  CREATE INDEX "index_spree_roles_users_on_role_id" ON "spree_roles_users" ("role_id")
  [1m[36m (1.6ms)[0m  [1mCREATE INDEX "index_spree_roles_users_on_user_id" ON "spree_roles_users" ("user_id")[0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "spree_shipments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tracking" varchar(255), "number" varchar(255), "cost" decimal(8,2), "shipped_at" datetime, "order_id" integer, "address_id" integer, "state" varchar(255), "created_at" datetime, "updated_at" datetime, "stock_location_id" integer) 
  [1m[36m (1.8ms)[0m  [1mCREATE INDEX "index_shipments_on_number" ON "spree_shipments" ("number")[0m
  [1m[35m (1.5ms)[0m  CREATE INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "spree_shipping_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "spree_shipping_method_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipping_method_id" integer NOT NULL, "shipping_category_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_spree_shipping_method_categories" ON "spree_shipping_method_categories" ("shipping_category_id", "shipping_method_id")[0m
  [1m[35m (2.0ms)[0m  CREATE INDEX "index_spree_shipping_method_categories_on_shipping_method_id" ON "spree_shipping_method_categories" ("shipping_method_id")
  [1m[36m (2.4ms)[0m  [1mCREATE TABLE "spree_shipping_methods" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_on" varchar(255), "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "tracking_url" varchar(255), "admin_name" varchar(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE TABLE "spree_shipping_methods_zones" ("shipping_method_id" integer, "zone_id" integer) 
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "spree_shipping_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shipment_id" integer, "shipping_method_id" integer, "selected" boolean DEFAULT 'f', "cost" decimal(8,2) DEFAULT 0.0, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX "spree_shipping_rates_join_index" ON "spree_shipping_rates" ("shipment_id", "shipping_method_id")
  [1m[36m (2.3ms)[0m  [1mCREATE TABLE "spree_state_changes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "previous_state" varchar(255), "stateful_id" integer, "user_id" integer, "stateful_type" varchar(255), "next_state" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "spree_states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "country_id" integer, "updated_at" datetime) 
  [1m[36m (2.5ms)[0m  [1mCREATE TABLE "spree_stock_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime, "backorderable" boolean DEFAULT 'f', "deleted_at" datetime) [0m
  [1m[35m (1.7ms)[0m  CREATE INDEX "stock_item_by_loc_and_var_id" ON "spree_stock_items" ("stock_location_id", "variant_id")
  [1m[36m (1.7ms)[0m  [1mCREATE INDEX "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items" ("stock_location_id")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "spree_stock_locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "address1" varchar(255), "address2" varchar(255), "city" varchar(255), "state_id" integer, "state_name" varchar(255), "country_id" integer, "zipcode" varchar(255), "phone" varchar(255), "active" boolean DEFAULT 't', "backorderable_default" boolean DEFAULT 'f', "propagate_all_variants" boolean DEFAULT 't', "admin_name" varchar(255)) 
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "spree_stock_movements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stock_item_id" integer, "quantity" integer DEFAULT 0, "action" varchar(255), "created_at" datetime, "updated_at" datetime, "originator_id" integer, "originator_type" varchar(255)) [0m
  [1m[35m (1.5ms)[0m  CREATE INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "spree_stock_transfers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "reference" varchar(255), "source_location_id" integer, "destination_location_id" integer, "created_at" datetime, "updated_at" datetime, "number" varchar(255)) [0m
  [1m[35m (1.5ms)[0m  CREATE INDEX "index_spree_stock_transfers_on_destination_location_id" ON "spree_stock_transfers" ("destination_location_id")
  [1m[36m (1.9ms)[0m  [1mCREATE INDEX "index_spree_stock_transfers_on_number" ON "spree_stock_transfers" ("number")[0m
  [1m[35m (2.1ms)[0m  CREATE INDEX "index_spree_stock_transfers_on_source_location_id" ON "spree_stock_transfers" ("source_location_id")
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "spree_tax_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "is_default" boolean DEFAULT 'f', "deleted_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "spree_tax_rates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal(8,5), "zone_id" integer, "tax_category_id" integer, "included_in_price" boolean DEFAULT 'f', "created_at" datetime, "updated_at" datetime, "name" varchar(255), "show_rate_in_label" boolean DEFAULT 't', "deleted_at" datetime) 
  [1m[36m (2.6ms)[0m  [1mCREATE TABLE "spree_taxonomies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime, "position" integer DEFAULT 0) [0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "spree_taxons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "parent_id" integer, "position" integer DEFAULT 0, "name" varchar(255) NOT NULL, "permalink" varchar(255), "taxonomy_id" integer, "lft" integer, "rgt" integer, "icon_file_name" varchar(255), "icon_content_type" varchar(255), "icon_file_size" integer, "icon_updated_at" datetime, "description" text, "created_at" datetime, "updated_at" datetime, "meta_title" varchar(255), "meta_description" varchar(255), "meta_keywords" varchar(255), "depth" integer) 
  [1m[36m (2.2ms)[0m  [1mCREATE INDEX "index_taxons_on_parent_id" ON "spree_taxons" ("parent_id")[0m
  [1m[35m (1.7ms)[0m  CREATE INDEX "index_taxons_on_permalink" ON "spree_taxons" ("permalink")
  [1m[36m (1.8ms)[0m  [1mCREATE INDEX "index_taxons_on_taxonomy_id" ON "spree_taxons" ("taxonomy_id")[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "spree_tokenized_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "permissable_id" integer, "permissable_type" varchar(255), "token" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.8ms)[0m  [1mCREATE INDEX "index_tokenized_name_and_type" ON "spree_tokenized_permissions" ("permissable_id", "permissable_type")[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "spree_trackers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "environment" varchar(255), "analytics_id" varchar(255), "active" boolean DEFAULT 't', "created_at" datetime, "updated_at" datetime) 
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "spree_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "encrypted_password" varchar(128), "password_salt" varchar(128), "email" varchar(255), "remember_token" varchar(255), "persistence_token" varchar(255), "reset_password_token" varchar(255), "perishable_token" varchar(255), "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "login" varchar(255), "ship_address_id" integer, "bill_address_id" integer, "authentication_token" varchar(255), "unlock_token" varchar(255), "locked_at" datetime, "reset_password_sent_at" datetime, "created_at" datetime, "updated_at" datetime, "remember_created_at" datetime, "spree_api_key" varchar(48)) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX "email_idx_unique" ON "spree_users" ("email")
  [1m[36m (1.3ms)[0m  [1mCREATE INDEX "index_spree_users_on_spree_api_key" ON "spree_users" ("spree_api_key")[0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "spree_variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sku" varchar(255) DEFAULT '' NOT NULL, "weight" decimal(8,2) DEFAULT 0.0, "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" datetime, "is_master" boolean DEFAULT 'f', "product_id" integer, "cost_price" decimal(8,2), "position" integer, "cost_currency" varchar(255), "track_inventory" boolean DEFAULT 't', "updated_at" datetime) 
  [1m[36m (1.3ms)[0m  [1mCREATE INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")[0m
  [1m[35m (1.6ms)[0m  CREATE INDEX "index_spree_variants_on_sku" ON "spree_variants" ("sku")
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "spree_zone_members" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "zoneable_id" integer, "zoneable_type" varchar(255), "zone_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "spree_zones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "default_tax" boolean DEFAULT 'f', "zone_members_count" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184649')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184536')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184537')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184538')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184539')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184540')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184541')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184542')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184543')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184544')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184545')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184546')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184547')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184548')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184549')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184550')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184551')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184552')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184553')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184554')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184555')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184556')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184557')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184558')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184559')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184560')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184561')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184562')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184563')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184564')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184565')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184566')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184567')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184568')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184569')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184570')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184571')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184572')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184573')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184574')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184575')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184576')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184577')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184578')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184579')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184580')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184581')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184582')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184583')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184584')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184585')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184586')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184587')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184588')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184589')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184590')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184591')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184592')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184593')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184594')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184595')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184596')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184597')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184598')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184599')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184600')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184601')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184602')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184603')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184604')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184605')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184606')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184607')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184608')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184609')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184610')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184611')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184612')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184613')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184614')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184615')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184616')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184617')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184618')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184619')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184620')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184621')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184622')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184623')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184624')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184625')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184626')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184627')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184628')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184629')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184630')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184631')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184632')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184633')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184634')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184635')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184636')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184637')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184638')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184639')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184640')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184641')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184642')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184643')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184644')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184645')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184646')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140319184647')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140319184648')[0m
  [1m[36mSpree::Preference Load (0.2ms)[0m  [1mSELECT "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = 'spree/app_configuration/currency' LIMIT 1[0m
  [1m[35mSpree::Preference Load (0.2ms)[0m  SELECT "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = 'spree/app_configuration/override_actionmailer_config' LIMIT 1
  [1m[36mSpree::Preference Load (0.1ms)[0m  [1mSELECT "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = 'spree/app_configuration/site_url' LIMIT 1[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
PG::UndefinedTable: ERROR:  relation "spree_preferences" does not exist
LINE 5:                WHERE a.attrelid = '"spree_preferences"'::reg...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"spree_preferences"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[36m (4.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SpreeOneTwo (20140319184536)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (3.9ms)[0m  [1mCREATE TABLE "spree_activators" ("id" serial primary key, "description" character varying(255), "expires_at" timestamp, "starts_at" timestamp, "name" character varying(255), "event_name" character varying(255), "type" character varying(255), "usage_limit" integer, "match_policy" character varying(255) DEFAULT 'all', "code" character varying(255), "advertise" boolean DEFAULT 'f', "path" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.1ms)[0m  CREATE TABLE "spree_addresses" ("id" serial primary key, "firstname" character varying(255), "lastname" character varying(255), "address1" character varying(255), "address2" character varying(255), "city" character varying(255), "zipcode" character varying(255), "phone" character varying(255), "state_name" character varying(255), "alternative_phone" character varying(255), "company" character varying(255), "state_id" integer, "country_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.4ms)[0m  [1mCREATE INDEX "index_addresses_on_firstname" ON "spree_addresses" ("firstname")[0m
  [1m[35m (0.8ms)[0m  CREATE INDEX "index_addresses_on_lastname" ON "spree_addresses" ("lastname")
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "spree_adjustments" ("id" serial primary key, "source_id" integer, "source_type" character varying(255), "adjustable_id" integer, "adjustable_type" character varying(255), "originator_id" integer, "originator_type" character varying(255), "amount" decimal(8,2), "label" character varying(255), "mandatory" boolean, "locked" boolean, "eligible" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "index_adjustments_on_order_id" ON "spree_adjustments" ("adjustable_id")
  [1m[36m (4.8ms)[0m  [1mCREATE TABLE "spree_assets" ("id" serial primary key, "viewable_id" integer, "viewable_type" character varying(255), "attachment_width" integer, "attachment_height" integer, "attachment_file_size" integer, "position" integer, "attachment_content_type" character varying(255), "attachment_file_name" character varying(255), "type" character varying(75), "attachment_updated_at" timestamp, "alt" text) [0m
  [1m[35m (0.7ms)[0m  CREATE INDEX "index_assets_on_viewable_id" ON "spree_assets" ("viewable_id")
  [1m[36m (1.2ms)[0m  [1mCREATE INDEX "index_assets_on_viewable_type_and_type" ON "spree_assets" ("viewable_type", "type")[0m
  [1m[35m (5.2ms)[0m  CREATE TABLE "spree_calculators" ("id" serial primary key, "type" character varying(255), "calculable_id" integer, "calculable_type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.6ms)[0m  [1mCREATE TABLE "spree_configurations" ("id" serial primary key, "name" character varying(255), "type" character varying(50), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (0.9ms)[0m  CREATE INDEX "index_spree_configurations_on_name_and_type" ON "spree_configurations" ("name", "type")
  [1m[36m (4.6ms)[0m  [1mCREATE TABLE "spree_countries" ("id" serial primary key, "iso_name" character varying(255), "iso" character varying(255), "iso3" character varying(255), "name" character varying(255), "numcode" integer) [0m
  [1m[35m (4.2ms)[0m  CREATE TABLE "spree_credit_cards" ("id" serial primary key, "month" character varying(255), "year" character varying(255), "cc_type" character varying(255), "last_digits" character varying(255), "first_name" character varying(255), "last_name" character varying(255), "start_month" character varying(255), "start_year" character varying(255), "issue_number" character varying(255), "address_id" integer, "gateway_customer_profile_id" character varying(255), "gateway_payment_profile_id" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.6ms)[0m  [1mCREATE TABLE "spree_gateways" ("id" serial primary key, "type" character varying(255), "name" character varying(255), "description" text, "active" boolean DEFAULT 't', "environment" character varying(255) DEFAULT 'development', "server" character varying(255) DEFAULT 'test', "test_mode" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.8ms)[0m  CREATE TABLE "spree_inventory_units" ("id" serial primary key, "lock_version" integer DEFAULT 0, "state" character varying(255), "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.2ms)[0m  [1mCREATE INDEX "index_inventory_units_on_order_id" ON "spree_inventory_units" ("order_id")[0m
  [1m[35m (1.2ms)[0m  CREATE INDEX "index_inventory_units_on_shipment_id" ON "spree_inventory_units" ("shipment_id")
  [1m[36m (0.8ms)[0m  [1mCREATE INDEX "index_inventory_units_on_variant_id" ON "spree_inventory_units" ("variant_id")[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "spree_line_items" ("id" serial primary key, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(8,2) NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.3ms)[0m  [1mCREATE INDEX "index_spree_line_items_on_order_id" ON "spree_line_items" ("order_id")[0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "index_spree_line_items_on_variant_id" ON "spree_line_items" ("variant_id")
  [1m[36m (4.4ms)[0m  [1mCREATE TABLE "spree_log_entries" ("id" serial primary key, "source_id" integer, "source_type" character varying(255), "details" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (58.6ms)[0m  CREATE TABLE "spree_mail_methods" ("id" serial primary key, "environment" character varying(255), "active" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (68.1ms)[0m  [1mCREATE TABLE "spree_option_types" ("id" serial primary key, "name" character varying(100), "presentation" character varying(100), "position" integer DEFAULT 0 NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.8ms)[0m  CREATE TABLE "spree_option_types_prototypes" ("prototype_id" integer, "option_type_id" integer) 
  [1m[36m (118.2ms)[0m  [1mCREATE TABLE "spree_option_values" ("id" serial primary key, "position" integer, "name" character varying(255), "presentation" character varying(255), "option_type_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "spree_option_values_variants" ("variant_id" integer, "option_value_id" integer) 
  [1m[36m (1.1ms)[0m  [1mCREATE INDEX "index_option_values_variants_on_variant_id_and_option_value_id" ON "spree_option_values_variants" ("variant_id", "option_value_id")[0m
  [1m[35m (8.9ms)[0m  CREATE INDEX "index_spree_option_values_variants_on_variant_id" ON "spree_option_values_variants" ("variant_id")
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "spree_orders" ("id" serial primary key, "number" character varying(15), "item_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "total" decimal(8,2) DEFAULT 0.0 NOT NULL, "state" character varying(255), "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" timestamp, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" character varying(255), "payment_state" character varying(255), "email" character varying(255), "special_instructions" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (0.9ms)[0m  CREATE INDEX "index_spree_orders_on_number" ON "spree_orders" ("number")
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "spree_payment_methods" ("id" serial primary key, "type" character varying(255), "name" character varying(255), "description" text, "active" boolean DEFAULT 't', "environment" character varying(255) DEFAULT 'development', "deleted_at" timestamp, "display_on" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.7ms)[0m  CREATE TABLE "spree_payments" ("id" serial primary key, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_id" integer, "source_type" character varying(255), "payment_method_id" integer, "state" character varying(255), "response_code" character varying(255), "avs_response" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.9ms)[0m  [1mCREATE TABLE "spree_preferences" ("id" serial primary key, "name" character varying(100), "owner_id" integer, "owner_type" character varying(255), "value" text, "key" character varying(255), "value_type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.2ms)[0m  CREATE UNIQUE INDEX "index_spree_preferences_on_key" ON "spree_preferences" ("key")
  [1m[36m (8.6ms)[0m  [1mCREATE TABLE "spree_product_option_types" ("id" serial primary key, "position" integer, "product_id" integer, "option_type_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.1ms)[0m  CREATE TABLE "spree_product_properties" ("id" serial primary key, "value" character varying(255), "product_id" integer, "property_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.3ms)[0m  [1mCREATE INDEX "index_product_properties_on_product_id" ON "spree_product_properties" ("product_id")[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE "spree_products" ("id" serial primary key, "name" character varying(255) DEFAULT '' NOT NULL, "description" text, "available_on" timestamp, "deleted_at" timestamp, "permalink" character varying(255), "meta_description" character varying(255), "meta_keywords" character varying(255), "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.6ms)[0m  [1mCREATE INDEX "index_spree_products_on_available_on" ON "spree_products" ("available_on")[0m
  [1m[35m (3.6ms)[0m  CREATE INDEX "index_spree_products_on_deleted_at" ON "spree_products" ("deleted_at")
  [1m[36m (1.2ms)[0m  [1mCREATE INDEX "index_spree_products_on_name" ON "spree_products" ("name")[0m
  [1m[35m (1.2ms)[0m  CREATE INDEX "index_spree_products_on_permalink" ON "spree_products" ("permalink")
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "spree_products_taxons" ("product_id" integer, "taxon_id" integer) [0m
  [1m[35m (1.2ms)[0m  CREATE INDEX "index_spree_products_taxons_on_product_id" ON "spree_products_taxons" ("product_id")
  [1m[36m (1.1ms)[0m  [1mCREATE INDEX "index_spree_products_taxons_on_taxon_id" ON "spree_products_taxons" ("taxon_id")[0m
  [1m[35m (3.7ms)[0m  CREATE TABLE "spree_properties" ("id" serial primary key, "name" character varying(255), "presentation" character varying(255) NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "spree_properties_prototypes" ("prototype_id" integer, "property_id" integer) [0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "spree_prototypes" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE "spree_return_authorizations" ("id" serial primary key, "number" character varying(255), "state" character varying(255), "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "spree_roles" ("id" serial primary key, "name" character varying(255)) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "spree_roles_users" ("role_id" integer, "user_id" integer) [0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "index_spree_roles_users_on_role_id" ON "spree_roles_users" ("role_id")
  [1m[36m (1.1ms)[0m  [1mCREATE INDEX "index_spree_roles_users_on_user_id" ON "spree_roles_users" ("user_id")[0m
  [1m[35m (4.2ms)[0m  CREATE TABLE "spree_shipments" ("id" serial primary key, "tracking" character varying(255), "number" character varying(255), "cost" decimal(8,2), "shipped_at" timestamp, "order_id" integer, "shipping_method_id" integer, "address_id" integer, "state" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.5ms)[0m  [1mCREATE INDEX "index_shipments_on_number" ON "spree_shipments" ("number")[0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "spree_shipping_categories" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.6ms)[0m  [1mCREATE TABLE "spree_shipping_methods" ("id" serial primary key, "name" character varying(255), "zone_id" integer, "display_on" character varying(255), "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" timestamp, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (15.2ms)[0m  CREATE TABLE "spree_state_changes" ("id" serial primary key, "name" character varying(255), "previous_state" character varying(255), "stateful_id" integer, "user_id" integer, "stateful_type" character varying(255), "next_state" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (20.6ms)[0m  [1mCREATE TABLE "spree_states" ("id" serial primary key, "name" character varying(255), "abbr" character varying(255), "country_id" integer) [0m
  [1m[35m (22.7ms)[0m  CREATE TABLE "spree_tax_categories" ("id" serial primary key, "name" character varying(255), "description" character varying(255), "is_default" boolean DEFAULT 'f', "deleted_at" timestamp, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (11.9ms)[0m  [1mCREATE TABLE "spree_tax_rates" ("id" serial primary key, "amount" decimal(8,5), "zone_id" integer, "tax_category_id" integer, "included_in_price" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.3ms)[0m  CREATE TABLE "spree_taxonomies" ("id" serial primary key, "name" character varying(255) NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (22.0ms)[0m  [1mCREATE TABLE "spree_taxons" ("id" serial primary key, "parent_id" integer, "position" integer DEFAULT 0, "name" character varying(255) NOT NULL, "permalink" character varying(255), "taxonomy_id" integer, "lft" integer, "rgt" integer, "icon_file_name" character varying(255), "icon_content_type" character varying(255), "icon_file_size" integer, "icon_updated_at" timestamp, "description" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.0ms)[0m  CREATE INDEX "index_taxons_on_parent_id" ON "spree_taxons" ("parent_id")
  [1m[36m (1.0ms)[0m  [1mCREATE INDEX "index_taxons_on_permalink" ON "spree_taxons" ("permalink")[0m
  [1m[35m (3.3ms)[0m  CREATE INDEX "index_taxons_on_taxonomy_id" ON "spree_taxons" ("taxonomy_id")
  [1m[36m (23.0ms)[0m  [1mCREATE TABLE "spree_tokenized_permissions" ("id" serial primary key, "permissable_id" integer, "permissable_type" character varying(255), "token" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (28.9ms)[0m  CREATE INDEX "index_tokenized_name_and_type" ON "spree_tokenized_permissions" ("permissable_id", "permissable_type")
  [1m[36m (5.6ms)[0m  [1mCREATE TABLE "spree_trackers" ("id" serial primary key, "environment" character varying(255), "analytics_id" character varying(255), "active" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.5ms)[0m  CREATE TABLE "spree_users" ("id" serial primary key, "encrypted_password" character varying(128), "password_salt" character varying(128), "email" character varying(255), "remember_token" character varying(255), "persistence_token" character varying(255), "reset_password_token" character varying(255), "perishable_token" character varying(255), "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" timestamp, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying(255), "last_sign_in_ip" character varying(255), "login" character varying(255), "ship_address_id" integer, "bill_address_id" integer, "authentication_token" character varying(255), "unlock_token" character varying(255), "locked_at" timestamp, "remember_created_at" timestamp, "reset_password_sent_at" timestamp, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.5ms)[0m  [1mCREATE TABLE "spree_variants" ("id" serial primary key, "sku" character varying(255) DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" timestamp, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "cost_price" decimal(8,2), "position" integer) [0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "index_spree_variants_on_product_id" ON "spree_variants" ("product_id")
  [1m[36m (3.5ms)[0m  [1mCREATE TABLE "spree_zone_members" ("id" serial primary key, "zoneable_id" integer, "zoneable_type" character varying(255), "zone_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.2ms)[0m  CREATE TABLE "spree_zones" ("id" serial primary key, "name" character varying(255), "description" character varying(255), "default_tax" boolean DEFAULT 'f', "zone_members_count" integer DEFAULT 0, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184536"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to SpreePromoOneTwo (20140319184537)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "spree_products_promotion_rules" ("product_id" integer, "promotion_rule_id" integer) 
  [1m[36m (2.0ms)[0m  [1mCREATE INDEX "index_products_promotion_rules_on_product_id" ON "spree_products_promotion_rules" ("product_id")[0m
  [1m[35m (1.3ms)[0m  CREATE INDEX "index_products_promotion_rules_on_promotion_rule_id" ON "spree_products_promotion_rules" ("promotion_rule_id")
  [1m[36m (4.6ms)[0m  [1mCREATE TABLE "spree_promotion_action_line_items" ("id" serial primary key, "promotion_action_id" integer, "variant_id" integer, "quantity" integer DEFAULT 1) [0m
  [1m[35m (3.3ms)[0m  CREATE TABLE "spree_promotion_actions" ("id" serial primary key, "activator_id" integer, "position" integer, "type" character varying(255)) 
  [1m[36m (3.5ms)[0m  [1mCREATE TABLE "spree_promotion_rules" ("id" serial primary key, "activator_id" integer, "user_id" integer, "product_group_id" integer, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.2ms)[0m  CREATE INDEX "index_promotion_rules_on_product_group_id" ON "spree_promotion_rules" ("product_group_id")
  [1m[36m (1.2ms)[0m  [1mCREATE INDEX "index_promotion_rules_on_user_id" ON "spree_promotion_rules" ("user_id")[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "spree_promotion_rules_users" ("user_id" integer, "promotion_rule_id" integer) 
  [1m[36m (1.1ms)[0m  [1mCREATE INDEX "index_promotion_rules_users_on_promotion_rule_id" ON "spree_promotion_rules_users" ("promotion_rule_id")[0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "index_promotion_rules_users_on_user_id" ON "spree_promotion_rules_users" ("user_id")
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184537"]]
  [1m[35m (1.2ms)[0m  COMMIT
Migrating to AddTaxRateLabel (20140319184538)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "spree_tax_rates" ADD COLUMN "name" character varying(255)
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184538"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to AddToggleTaxRateDisplay (20140319184539)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (3.1ms)[0m  ALTER TABLE "spree_tax_rates" ADD COLUMN "show_rate_in_label" boolean DEFAULT 't'
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184539"]]
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to RemoveUnusedPreferenceColumns (20140319184540)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_preferences" DROP "name"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_preferences" DROP "owner_id"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_preferences" DROP "owner_type"
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184540"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddLockVersionToVariant (20140319184541)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.8ms)[0m  ALTER TABLE "spree_variants" ADD COLUMN "lock_version" integer DEFAULT 0
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184541"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to AddStatesRequiredToCountries (20140319184542)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (3.4ms)[0m  ALTER TABLE "spree_countries" ADD COLUMN "states_required" boolean DEFAULT 't'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184542"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddOnDemandToProductAndVariant (20140319184543)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (6.0ms)[0m  ALTER TABLE "spree_products" ADD COLUMN "on_demand" boolean DEFAULT 'f'
  [1m[36m (3.3ms)[0m  [1mALTER TABLE "spree_variants" ADD COLUMN "on_demand" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184543"]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
Migrating to RemoveNotNullConstraintFromProductsOnHand (20140319184544)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_products" ALTER COLUMN "count_on_hand" TYPE integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_products" ALTER "count_on_hand" DROP NOT NULL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_variants" ALTER COLUMN "count_on_hand" TYPE integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_variants" ALTER "count_on_hand" DROP NOT NULL
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184544"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to SplitPricesFromVariants (20140319184545)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "spree_prices" ("id" serial primary key, "variant_id" integer NOT NULL, "amount" decimal(8,2) NOT NULL, "currency" character varying(255)) 
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_variants" DROP "price"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184545"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to RemoveNotNullFromSpreePricesAmount (20140319184546)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_prices" ALTER COLUMN "amount" TYPE decimal(8,2)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_prices" ALTER "amount" DROP NOT NULL[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184546"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddCurrencyToLineItems (20140319184547)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_line_items" ADD COLUMN "currency" character varying(255)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184547"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddCurrencyToOrders (20140319184548)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_orders" ADD COLUMN "currency" character varying(255)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184548"]]
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to AddCostCurrencyToVariants (20140319184549)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "spree_variants" ADD COLUMN "cost_currency" character varying(255)[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184549"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to RemoveDisplayOnFromPaymentMethods (20140319184550)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_payment_methods" DROP "display_on"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184550"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddPositionToTaxonomies (20140319184551)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (1.7ms)[0m  [1mALTER TABLE "spree_taxonomies" ADD COLUMN "position" integer DEFAULT 0[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184551"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to AddLastIpToSpreeOrders (20140319184552)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_orders" ADD COLUMN "last_ip_address" character varying(255)[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184552"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
Migrating to AddStateToSpreeAdjustments (20140319184553)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_adjustments" ADD COLUMN "state" character varying(255)[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_adjustments" DROP "locked"
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184553"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddDisplayOnToSpreePaymentMethods (20140319184554)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_payment_methods" ADD COLUMN "display_on" character varying(255)
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184554"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddPositionToProductProperties (20140319184555)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.5ms)[0m  ALTER TABLE "spree_product_properties" ADD COLUMN "position" integer DEFAULT 0
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184555"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to AddIdentifierToSpreePayments (20140319184556)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_payments" ADD COLUMN "identifier" character varying(255)
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184556"]]
  [1m[35m (1.6ms)[0m  COMMIT
Migrating to AddOrderIdIndexToPayments (20140319184557)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (1.5ms)[0m  CREATE INDEX "index_spree_payments_on_order_id" ON "spree_payments" ("order_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184557"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddPrimaryToSpreeProductsTaxons (20140319184558)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (4.0ms)[0m  ALTER TABLE "spree_products_taxons" ADD COLUMN "id" serial primary key
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184558"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to CreateSpreeStockItems (20140319184559)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "spree_stock_items" ("id" serial primary key, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "lock_version" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.2ms)[0m  [1mCREATE INDEX "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items" ("stock_location_id")[0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "stock_item_by_loc_and_var_id" ON "spree_stock_items" ("stock_location_id", "variant_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184559"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to CreateSpreeStockLocations (20140319184560)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "spree_stock_locations" ("id" serial primary key, "name" character varying(255), "address_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.1ms)[0m  [1mCREATE INDEX "index_spree_stock_locations_on_address_id" ON "spree_stock_locations" ("address_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184560"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateDefaultStock (20140319184561)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "spree_stock_locations" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Wed, 19 Mar 2014 18:49:45 UTC +00:00], ["name", "default"], ["updated_at", Wed, 19 Mar 2014 18:49:45 UTC +00:00]]
  [1m[35mSpree::Variant Load (0.6ms)[0m  SELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_variants" DROP "count_on_hand"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184561"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddOrderIdIndexToShipments (20140319184562)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mCREATE INDEX "index_spree_shipments_on_order_id" ON "spree_shipments" ("order_id")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184562"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to ChangeMetaDescriptionOnSpreeProductsToText (20140319184563)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_products" ALTER COLUMN "meta_description" TYPE text[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184563"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddStockLocationIdToSpreeShipments (20140319184564)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_shipments" ADD COLUMN "stock_location_id" integer[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184564"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddPendingToInventoryUnit (20140319184565)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (3.5ms)[0m  [1mALTER TABLE "spree_inventory_units" ADD COLUMN "pending" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "spree_inventory_units" SET "pending" = 'f'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184565"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to RemoveOnDemandFromProductAndVariant (20140319184566)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "spree_products" DROP "on_demand"
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_variants" DROP "on_demand"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184566"]]
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateShippingMethodZone (20140319184567)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "shipping_methods_zones" ("shipping_method_id" integer, "zone_id" integer) [0m
  [1m[35mSpree::ShippingMethod Load (0.6ms)[0m  SELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_shipping_methods" DROP "zone_id"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184567"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to RemoveShippingCategoryIdFromShippingMethod (20140319184568)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_shipping_methods" DROP "shipping_category_id"[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184568"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateShippingMethodCategories (20140319184569)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "spree_shipping_method_categories" ("id" serial primary key, "shipping_method_id" integer NOT NULL, "shipping_category_id" integer NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (0.8ms)[0m  CREATE INDEX "index_spree_shipping_method_categories_on_shipping_method_id" ON "spree_shipping_method_categories" ("shipping_method_id")
  [1m[36m (0.8ms)[0m  [1mCREATE INDEX "index_spree_shipping_method_categories_on_shipping_category_id" ON "spree_shipping_method_categories" ("shipping_category_id")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184569"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddTrackingUrlToSpreeShippingMethods (20140319184570)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_shipping_methods" ADD COLUMN "tracking_url" character varying(255)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184570"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateSpreeShippingRates (20140319184571)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (2.3ms)[0m  [1mCREATE TABLE "spree_shipping_rates" ("id" serial primary key, "shipment_id" integer, "shipping_method_id" integer, "selected" boolean DEFAULT 'f', "cost" decimal(8,2), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "spree_shipping_rates_join_index" ON "spree_shipping_rates" ("shipment_id", "shipping_method_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184571"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to RemoveCategoryMatchAttributesFromShippingMethod (20140319184572)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_shipping_methods" DROP "match_none"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_shipping_methods" DROP "match_one"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_shipping_methods" DROP "match_all"
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184572"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to CreateStockMovements (20140319184573)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "spree_stock_movements" ("id" serial primary key, "stock_item_id" integer, "quantity" integer, "action" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (0.9ms)[0m  [1mCREATE INDEX "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements" ("stock_item_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184573"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddAddressFieldsToStockLocation (20140319184574)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_stock_locations" DROP "address_id"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "spree_stock_locations" ADD COLUMN "address1" character varying(255)
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD COLUMN "address2" character varying(255)[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD COLUMN "city" character varying(255)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD COLUMN "state_id" integer[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_stock_locations" ADD COLUMN "state_name" character varying(255)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD COLUMN "country_id" integer[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ADD COLUMN "zipcode" character varying(255)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD COLUMN "phone" character varying(255)[0m
  [1m[35mSpree::Country Load (1.0ms)[0m  SELECT "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = 'US' ORDER BY "spree_countries"."id" ASC LIMIT 1
  [1m[36mSpree::Country Load (0.3ms)[0m  [1mSELECT "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "spree_stock_locations" SET "country_id" = NULL
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184574"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddActiveFieldToStockLocations (20140319184575)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (4.9ms)[0m  ALTER TABLE "spree_stock_locations" ADD COLUMN "active" boolean DEFAULT 't'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184575"]]
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to AddBackorderableToStockItem (20140319184576)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (4.4ms)[0m  ALTER TABLE "spree_stock_items" ADD COLUMN "backorderable" boolean DEFAULT 't'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184576"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to AddDefaultQuantityToStockMovement (20140319184577)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_stock_movements" ALTER COLUMN "quantity" TYPE integer
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "spree_stock_movements" ALTER COLUMN "quantity" SET DEFAULT 0[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184577"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddSourceAndDestinationToStockMovements (20140319184578)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_movements" ADD COLUMN "source_id" integer[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "spree_stock_movements" ADD COLUMN "source_type" character varying(255)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_movements" ADD COLUMN "destination_id" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_movements" ADD COLUMN "destination_type" character varying(255)
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184578"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to ChangeOrdersTotalPrecision (20140319184579)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "spree_orders" ALTER COLUMN "item_total" TYPE decimal(10,2)
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_orders" ALTER COLUMN "item_total" SET DEFAULT 0.0[0m
  [1m[35m (0.4ms)[0m  UPDATE "spree_orders" SET "item_total"=0.0 WHERE "item_total" IS NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "spree_orders" ALTER "item_total" SET NOT NULL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_orders" ALTER COLUMN "total" TYPE decimal(10,2)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_orders" ALTER COLUMN "total" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  UPDATE "spree_orders" SET "total"=0.0 WHERE "total" IS NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "spree_orders" ALTER "total" SET NOT NULL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_orders" ALTER COLUMN "adjustment_total" TYPE decimal(10,2)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_orders" ALTER COLUMN "adjustment_total" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  UPDATE "spree_orders" SET "adjustment_total"=0.0 WHERE "adjustment_total" IS NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_orders" ALTER "adjustment_total" SET NOT NULL[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "spree_orders" ALTER COLUMN "payment_total" TYPE decimal(10,2)
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_orders" ALTER COLUMN "payment_total" SET DEFAULT 0.0[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184579"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to ChangeSpreePaymentsAmountPrecision (20140319184580)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_payments" ALTER COLUMN "amount" TYPE decimal(10,2)[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_payments" ALTER COLUMN "amount" SET DEFAULT 0.0
  [1m[36m (0.3ms)[0m  [1mUPDATE "spree_payments" SET "amount"=0.0 WHERE "amount" IS NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "spree_payments" ALTER "amount" SET NOT NULL
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184580"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to ChangeSpreeReturnAuthorizationAmountPrecision (20140319184581)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_return_authorizations" ALTER COLUMN "amount" TYPE decimal(10,2)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_return_authorizations" ALTER COLUMN "amount" SET DEFAULT 0.0[0m
  [1m[35m (0.3ms)[0m  UPDATE "spree_return_authorizations" SET "amount"=0.0 WHERE "amount" IS NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "spree_return_authorizations" ALTER "amount" SET NOT NULL[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184581"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to ChangeAdjustmentsAmountPrecision (20140319184582)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_adjustments" ALTER COLUMN "amount" TYPE decimal(10,2)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184582"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddOriginatorToStockMovement (20140319184583)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_movements" ADD COLUMN "originator_id" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_movements" ADD COLUMN "originator_type" character varying(255)
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184583"]]
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to DropSourceAndDestinationFromStockMovement (20140319184584)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_stock_movements" DROP "source_id"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_movements" DROP "source_type"[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_stock_movements" DROP "destination_id"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_movements" DROP "destination_type"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184584"]]
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to MigrateInventoryUnitSoldToOnHand (20140319184585)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "spree_inventory_units" SET "state" = 'on_hand' WHERE "spree_inventory_units"."state" = 'sold'[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184585"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddStockLocationToRma (20140319184586)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_return_authorizations" ADD COLUMN "stock_location_id" integer[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184586"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to UpdateShipmentStateForCanceledOrders (20140319184587)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184587"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to AddSeoMetasToTaxons (20140319184588)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_taxons" ADD COLUMN "meta_title" character varying(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_taxons" ADD COLUMN "meta_description" character varying(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "spree_taxons" ADD COLUMN "meta_keywords" character varying(255)
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184588"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to RemoveStockItemAndVariantLock (20140319184589)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_stock_items" DROP "lock_version"
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_variants" DROP "lock_version"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184589"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexToSourceColumnsOnAdjustments (20140319184590)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mCREATE INDEX "index_spree_adjustments_on_source_type_and_source_id" ON "spree_adjustments" ("source_type", "source_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184590"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to UpdateAdjustmentStates (20140319184591)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSpree::Order Load (0.6ms)[0m  [1mSELECT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL)[0m
  [1m[35mSpree::Shipment Load (0.8ms)[0m  SELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."state" IN ('shipped')
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "spree_adjustments" SET "state" = 'open' WHERE "spree_adjustments"."state" IS NULL[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184591"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddShippingRatesToShipments (20140319184592)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSpree::Shipment Load (0.2ms)[0m  [1mSELECT "spree_shipments".* FROM "spree_shipments"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_shipments" DROP "shipping_method_id"
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184592"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to CreateSpreeStockTransfers (20140319184593)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (3.2ms)[0m  CREATE TABLE "spree_stock_transfers" ("id" serial primary key, "type" character varying(255), "reference_number" character varying(255), "source_location_id" integer, "destination_location_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (0.9ms)[0m  [1mCREATE INDEX "index_spree_stock_transfers_on_source_location_id" ON "spree_stock_transfers" ("source_location_id")[0m
  [1m[35m (0.8ms)[0m  CREATE INDEX "index_spree_stock_transfers_on_destination_location_id" ON "spree_stock_transfers" ("destination_location_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184593"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to DropProductsCountOnHand (20140319184594)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "spree_products" DROP "count_on_hand"
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184594"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to SetDefaultShippingRateCost (20140319184595)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_shipping_rates" ALTER COLUMN "cost" TYPE decimal(8,2)
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_shipping_rates" ALTER COLUMN "cost" SET DEFAULT 0[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184595"]]
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to AddNumberToStockTransfer (20140319184596)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mDROP INDEX "index_spree_stock_transfers_on_source_location_id"[0m
  [1m[35m (0.4ms)[0m  DROP INDEX "index_spree_stock_transfers_on_destination_location_id"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_stock_transfers" RENAME COLUMN "reference_number" TO "reference"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_transfers" ADD COLUMN "number" character varying(255)
  [1m[36mSpree::StockTransfer Load (0.6ms)[0m  [1mSELECT "spree_stock_transfers".* FROM "spree_stock_transfers"[0m
  [1m[35m (1.0ms)[0m  CREATE INDEX "index_spree_stock_transfers_on_number" ON "spree_stock_transfers" ("number")
  [1m[36m (1.0ms)[0m  [1mCREATE INDEX "index_spree_stock_transfers_on_source_location_id" ON "spree_stock_transfers" ("source_location_id")[0m
  [1m[35m (0.8ms)[0m  CREATE INDEX "index_spree_stock_transfers_on_destination_location_id" ON "spree_stock_transfers" ("destination_location_id")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184596"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to AddSkuIndexToSpreeVariants (20140319184597)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  CREATE INDEX "index_spree_variants_on_sku" ON "spree_variants" ("sku")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184597"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to AddBackorderableDefaultToSpreeStockLocation (20140319184598)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (3.7ms)[0m  ALTER TABLE "spree_stock_locations" ADD COLUMN "backorderable_default" boolean DEFAULT 't'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184598"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to AddPropageAllVariantsToSpreeStockLocation (20140319184599)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (3.6ms)[0m  ALTER TABLE "spree_stock_locations" ADD COLUMN "propagate_all_variants" boolean DEFAULT 't'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184599"]]
  [1m[35m (1.5ms)[0m  COMMIT
Migrating to RenameShippingMethodsZonesToSpreeShippingMethodsZones (20140319184600)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "shipping_methods_zones" RENAME TO "spree_shipping_methods_zones"
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184600"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddUserIdIndexToSpreeOrders (20140319184601)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.3ms)[0m  CREATE INDEX "index_spree_orders_on_user_id" ON "spree_orders" ("user_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184601"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddUpdatedAtToSpreeCountries (20140319184602)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_countries" ADD COLUMN "updated_at" timestamp
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184602"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddUpdatedAtToSpreeStates (20140319184603)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_states" ADD COLUMN "updated_at" timestamp
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184603"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to AddCvvResultCodeAndCvvResultMessageToSpreePayments (20140319184604)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_payments" ADD COLUMN "cvv_response_code" character varying(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_payments" ADD COLUMN "cvv_response_message" character varying(255)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184604"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddUniqueIndexToPermalinkOnSpreeProducts (20140319184605)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "permalink_idx_unique" ON "spree_products" ("permalink")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184605"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddUniqueIndexToOrdersShipmentsAndStockTransfers (20140319184606)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184606"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddDeletedAtToSpreeTaxRates (20140319184607)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_tax_rates" ADD COLUMN "deleted_at" timestamp
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184607"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to RemoveLockVersionFromInventoryUnits (20140319184608)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "spree_inventory_units" DROP "lock_version"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184608"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddCostPriceToLineItem (20140319184609)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_line_items" ADD COLUMN "cost_price" decimal(8,2)
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184609"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to SetBackorderableToDefaultToFalse (20140319184610)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "spree_stock_items" ALTER COLUMN "backorderable" TYPE boolean
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_items" ALTER COLUMN "backorderable" SET DEFAULT 'f'[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_stock_locations" ALTER COLUMN "backorderable_default" TYPE boolean
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_locations" ALTER COLUMN "backorderable_default" SET DEFAULT 'f'[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184610"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddCreatedByIdToSpreeOrders (20140319184611)
  [1m[35m (2.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_orders" ADD COLUMN "created_by_id" integer[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184611"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to IndexCompletedAtOnSpreeOrders (20140319184612)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mCREATE INDEX "index_spree_orders_on_completed_at" ON "spree_orders" ("completed_at")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184612"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddTaxCategoryIdToSpreeLineItems (20140319184613)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_line_items" ADD COLUMN "tax_category_id" integer[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184613"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to MigrateTaxCategoriesToLineItems (20140319184614)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSpree::LineItem Load (0.5ms)[0m  [1mSELECT "spree_line_items".* FROM "spree_line_items" ORDER BY "spree_line_items"."id" ASC LIMIT 1000[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184614"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to DropSpreeMailMethods (20140319184615)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mDROP TABLE "spree_mail_methods"[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184615"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to SetDefaultStockLocationOnShipments (20140319184616)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "spree_shipments" WHERE (stock_location_id IS NULL)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184616"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddAdminNameColumnToSpreeShippingMethods (20140319184617)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_shipping_methods" ADD COLUMN "admin_name" character varying(255)[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184617"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddAdminNameColumnToSpreeStockLocations (20140319184618)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_stock_locations" ADD COLUMN "admin_name" character varying(255)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184618"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to ExpandOrderNumberSize (20140319184619)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "spree_orders" ALTER COLUMN "number" TYPE character varying(32)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184619"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddDepthToSpreeTaxons (20140319184620)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_taxons" ADD COLUMN "depth" integer[0m
  [1m[35mSpree::Taxon Load (0.5ms)[0m  SELECT "spree_taxons".* FROM "spree_taxons"
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184620"]]
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to AddShippingCategoryToShippingMethodsAndProducts (20140319184621)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSpree::ShippingCategory Load (0.4ms)[0m  SELECT "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "spree_shipping_categories" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Wed, 19 Mar 2014 18:49:46 UTC +00:00], ["name", "Default"], ["updated_at", Wed, 19 Mar 2014 18:49:46 UTC +00:00]]
  [1m[35mSpree::ShippingMethod Load (0.5ms)[0m  SELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "spree_products" SET "shipping_category_id" = 1 WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."shipping_category_id" IS NULL[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184621"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to MigrateOldShippingCalculators (20140319184622)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSpree::ShippingMethod Load (0.3ms)[0m  [1mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184622"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to ChangeStatesRequiredForCountries (20140319184623)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_countries" ALTER COLUMN "states_required" SET DEFAULT 'f'[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184623"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddDeletedAtToSpreeStockItems (20140319184624)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_stock_items" ADD COLUMN "deleted_at" timestamp[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184624"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to RemoveUnusedCreditCardFields (20140319184625)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "spree_credit_cards" DROP "start_month"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_credit_cards" DROP "start_year"
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_credit_cards" DROP "issue_number"[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184625"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddTrackInventoryToVariant (20140319184626)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (5.0ms)[0m  [1mALTER TABLE "spree_variants" ADD COLUMN "track_inventory" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184626"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to AddChannelToSpreeOrders (20140319184627)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (6.0ms)[0m  [1mALTER TABLE "spree_orders" ADD COLUMN "channel" character varying(255) DEFAULT 'spree'[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184627"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Migrating to AddTaxTotalToSpreeOrders (20140319184628)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (6.6ms)[0m  [1mALTER TABLE "spree_orders" ADD COLUMN "tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184628"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to AddOrderIdToSpreeAdjustments (20140319184629)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "spree_adjustments" ADD COLUMN "order_id" integer[0m
  [1m[35m (1.2ms)[0m  CREATE INDEX "index_spree_adjustments_on_order_id" ON "spree_adjustments" ("order_id")
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184629"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to AddIncludedToSpreeAdjustments (20140319184630)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (6.0ms)[0m  ALTER TABLE "spree_adjustments" ADD COLUMN "included" boolean DEFAULT 'f'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184630"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to AddUpdatedAtToVariants (20140319184631)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_variants" ADD COLUMN "updated_at" timestamp
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184631"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to UniqueShippingMethodCategories (20140319184632)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSpree::ShippingMethodCategory Load (0.6ms)[0m  SELECT shipping_category_id,shipping_method_id,COUNT(*) FROM "spree_shipping_method_categories" GROUP BY shipping_category_id,shipping_method_id HAVING COUNT(*) > 1
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_spree_shipping_method_categories" ON "spree_shipping_method_categories" ("shipping_category_id", "shipping_method_id")[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_spree_shipping_method_categories_on_shipping_category_id"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184632"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to AddIndexToVariantIdAndCurrencyOnPrices (20140319184633)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "index_spree_prices_on_variant_id_and_currency" ON "spree_prices" ("variant_id", "currency")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184633"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddDeletedAtToSpreePrices (20140319184634)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_prices" ADD COLUMN "deleted_at" timestamp
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184634"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddAutoCaptureToPaymentMethods (20140319184635)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_payment_methods" ADD COLUMN "auto_capture" boolean
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184635"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to DefaultVariantWeightToZero (20140319184636)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "spree_variants" SET weight = 0.0 WHERE "spree_variants"."weight" IS NULL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_variants" ALTER COLUMN "weight" TYPE decimal(8,2)[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "spree_variants" ALTER COLUMN "weight" SET DEFAULT 0.0
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184636"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to CreateUsers (20140319184637)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184637"]]
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to RenameColumnsForDevise (20140319184638)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184638"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to ConvertUserRememberField (20140319184639)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_users" DROP "remember_created_at"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "spree_users" ADD COLUMN "remember_created_at" timestamp[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184639"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddResetPasswordSentAtToSpreeUsers (20140319184640)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184640"]]
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to MakeUsersEmailIndexUnique (20140319184641)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "email_idx_unique" ON "spree_users" ("email")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184641"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to AddHstore (20140319184642)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (89.8ms)[0m  CREATE EXTENSION hstore
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319184642"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to AddPuntopagosAttributesToSpreePayments (20140319184643)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "spree_payments" ADD COLUMN "token" character varying(255)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_payments" ADD COLUMN "puntopagos_params" hstore[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184643"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddTrxIdToSpreePayments (20140319184644)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_payments" ADD COLUMN "trx_id" character varying(255)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184644"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to ChangeTrxIdToIntegerIntoSpreePayments (20140319184645)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (4.0ms)[0m  [1mALTER TABLE "spree_payments" ALTER COLUMN "trx_id" TYPE integer USING CAST(trx_id AS integer)[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184645"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Migrating to AddApiKeyToSpreeUsers (20140319184646)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_users" ADD COLUMN "api_key" character varying(40)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184646"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to ResizeApiKeyField (20140319184647)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "spree_users" ALTER COLUMN "api_key" TYPE character varying(48)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184647"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to RenameApiKeyToSpreeApiKey (20140319184648)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "spree_users" RENAME COLUMN "api_key" TO "spree_api_key"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184648"]]
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexToUserSpreeApiKey (20140319184649)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mCREATE INDEX "index_spree_users_on_spree_api_key" ON "spree_users" ("spree_api_key")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140319184649"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
